# Travis-CI Build for Cronos
# see travis-ci.org for details

sudo: required
dist: trusty

language: csharp

os: 
  - linux
  - osx

matrix:
  include:
    - dotnet: 2.1.401
      mono: none
      script:
        - travis_retry dotnet restore Cronos.sln --disable-parallel;
        - dotnet test tests/Cronos.Tests/Cronos.Tests.csproj -c:Release -f:netcoreapp2.1;
    - mono: latest
      install:
        - nuget restore Cronos.sln
        - nuget install xunit.runners -Version 1.9.2 -OutputDirectory testrunner
      script:
        - msbuild /p:Configuration=Release Cronos.sln
        - mono ./testrunner/xunit.runners.1.9.2/tools/xunit.console.clr4.exe ./tests/Cronos.Tests/bin/Release/net452/Cronos.Tests.dll
